[mirai-core](../../index.md) / [net.mamoe.mirai](../index.md) / [Bot](./index.md)

# Bot

`abstract class Bot : CoroutineScope, `[`LowLevelBotAPIAccessor`](../-low-level-bot-a-p-i-accessor/index.md)`, `[`BotJavaFriendlyAPI`](../-bot-java-friendly-a-p-i/index.md)`, `[`ContactOrBot`](../../net.mamoe.mirai.contact/-contact-or-bot/index.md)

机器人对象. 一个机器人实例登录一个 QQ 账号.
Mirai 为多账号设计, 可同时维护多个机器人.

注: Bot 为全协程实现, 没有其他任务时若不使用 [join](../join.md), 主线程将会退出.

**See Also**

[Contact](../../net.mamoe.mirai.contact/-contact/index.md)

[kotlinx.coroutines.isActive](#)

### Constructors

| [&lt;init&gt;](-init-.md) | 机器人对象. 一个机器人实例登录一个 QQ 账号. Mirai 为多账号设计, 可同时维护多个机器人.`Bot()` |

### Properties

| [context](context.md) | [Bot](./index.md) 运行的 [Context](../../net.mamoe.mirai.utils/-context/index.md).`abstract val context: `[`Context`](../../net.mamoe.mirai.utils/-context/index.md) |
| [friends](friends.md) | 机器人的好友列表. 与服务器同步更新`abstract val friends: `[`ContactList`](../../net.mamoe.mirai.contact/-contact-list/index.md)`<`[`Friend`](../../net.mamoe.mirai.contact/-friend/index.md)`>` |
| [groups](groups.md) | 机器人加入的群列表. 与服务器同步更新`abstract val groups: `[`ContactList`](../../net.mamoe.mirai.contact/-contact-list/index.md)`<`[`Group`](../../net.mamoe.mirai.contact/-group/index.md)`>` |
| [id](id.md) | QQ 号码. 实际类型为 uint`abstract val id: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html) |
| [logger](logger.md) | 日志记录器`abstract val logger: `[`MiraiLogger`](../../net.mamoe.mirai.utils/-mirai-logger/index.md) |
| [network](network.md) | 网络模块. 此为内部 API: 它可能在任意时刻被改动.`abstract val network: BotNetworkHandler` |
| [nick](nick.md) | 昵称`abstract val nick: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html) |
| [selfQQ](self-q-q.md) | [QQ.id](../../net.mamoe.mirai.contact/-q-q/id.md) 与 [Bot.uin](uin.md) 相同的 [_lowLevelNewFriend](../-low-level-bot-a-p-i-accessor/_low-level-new-friend.md) 实例`abstract val selfQQ: `[`Friend`](../../net.mamoe.mirai.contact/-friend/index.md) |
| [selfQQDeprecated](self-q-q-deprecated.md) | `val ~~selfQQDeprecated~~: `[`QQ`](../../net.mamoe.mirai.contact/-q-q/index.md) |
| [uin](uin.md) | `abstract val ~~uin~~: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html) |

### Functions

| [acceptInvitedJoinGroupRequest](accept-invited-join-group-request.md) | 接收邀请入群（需管理员权限）`abstract suspend fun acceptInvitedJoinGroupRequest(event: `[`BotInvitedJoinGroupRequestEvent`](../../net.mamoe.mirai.event.events/-bot-invited-join-group-request-event/index.md)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [acceptMemberJoinRequest](accept-member-join-request.md) | 通过加群验证（需管理员权限）`abstract suspend fun acceptMemberJoinRequest(event: `[`MemberJoinRequestEvent`](../../net.mamoe.mirai.event.events/-member-join-request-event/index.md)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [acceptNewFriendRequest](accept-new-friend-request.md) | 通过好友验证`abstract suspend fun acceptNewFriendRequest(event: `[`NewFriendRequestEvent`](../../net.mamoe.mirai.event.events/-new-friend-request-event/index.md)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [addFriend](add-friend.md) | 添加一个好友`abstract suspend fun addFriend(id: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`, message: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, remark: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null): `[`AddFriendResult`](../../net.mamoe.mirai.data/-add-friend-result/index.md) |
| [close](close.md) | 关闭这个 [Bot](./index.md), 立即取消 [Bot](./index.md) 的 [kotlinx.coroutines.SupervisorJob](#). 之后 [kotlinx.coroutines.isActive](#) 将会返回 `false`.`abstract fun close(cause: `[`Throwable`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html)`? = null): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [constructMessageSource](construct-message-source.md) | 构造一个 [OfflineMessageSource](../../net.mamoe.mirai.message.data/-offline-message-source/index.md)`abstract fun constructMessageSource(kind: Kind, fromUin: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`, targetUin: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`, id: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)`, time: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)`, internalId: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)`, originalMessage: `[`MessageChain`](../../net.mamoe.mirai.message.data/-message-chain/index.md)`): `[`OfflineMessageSource`](../../net.mamoe.mirai.message.data/-offline-message-source/index.md) |
| [getFriend](get-friend.md) | 获取一个好友对象.`fun getFriend(id: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Friend`](../../net.mamoe.mirai.contact/-friend/index.md) |
| [getFriendDeprecated](get-friend-deprecated.md) | `fun ~~getFriendDeprecated~~(id: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`QQ`](../../net.mamoe.mirai.contact/-q-q/index.md) |
| [getGroup](get-group.md) | 获取一个机器人加入的群.`fun getGroup(id: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Group`](../../net.mamoe.mirai.contact/-group/index.md) |
| [ignoreInvitedJoinGroupRequest](ignore-invited-join-group-request.md) | 忽略邀请入群（需管理员权限）`abstract suspend fun ignoreInvitedJoinGroupRequest(event: `[`BotInvitedJoinGroupRequestEvent`](../../net.mamoe.mirai.event.events/-bot-invited-join-group-request-event/index.md)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [ignoreMemberJoinRequest](ignore-member-join-request.md) | 忽略加群验证（需管理员权限）`abstract suspend fun ignoreMemberJoinRequest(event: `[`MemberJoinRequestEvent`](../../net.mamoe.mirai.event.events/-member-join-request-event/index.md)`, blackList: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [login](login.md) | 登录, 或重新登录. 这个函数总是关闭一切现有网路任务 (但不会关闭其他任务), 然后重新登录并重新缓存好友列表和群列表.`abstract suspend fun login(): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [openChannel](open-channel.md) | 获取图片下载链接并开始下载.`abstract suspend fun ~~openChannel~~(image: `[`Image`](../../net.mamoe.mirai.message.data/-image/index.md)`): ByteReadChannel` |
| [queryImageUrl](query-image-url.md) | 获取图片下载链接`abstract suspend fun queryImageUrl(image: `[`Image`](../../net.mamoe.mirai.message.data/-image/index.md)`): `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html) |
| [recall](recall.md) | 撤回这条消息. 可撤回自己 2 分钟内发出的消息, 和任意时间的群成员的消息.`abstract suspend fun recall(source: `[`MessageSource`](../../net.mamoe.mirai.message.data/-message-source/index.md)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [rejectMemberJoinRequest](reject-member-join-request.md) | 拒绝加群验证（需管理员权限）`abstract suspend fun rejectMemberJoinRequest(event: `[`MemberJoinRequestEvent`](../../net.mamoe.mirai.event.events/-member-join-request-event/index.md)`, blackList: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [rejectNewFriendRequest](reject-new-friend-request.md) | 拒绝好友验证`abstract suspend fun rejectNewFriendRequest(event: `[`NewFriendRequestEvent`](../../net.mamoe.mirai.event.events/-new-friend-request-event/index.md)`, blackList: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [toString](to-string.md) | `fun toString(): `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html) |

### Companion Object Properties

| [botInstances](bot-instances.md) | 复制一份此时的 [Bot](./index.md) 实例列表.`val botInstances: `[`List`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html)`<`[`Bot`](./index.md)`>` |
| [instances](instances.md) | 复制一份此时的 [Bot](./index.md) 实例列表.`val ~~instances~~: `[`List`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html)`<`[`WeakRef`](../../net.mamoe.mirai.utils/-weak-ref/index.md)`<`[`Bot`](./index.md)`>>` |

### Companion Object Functions

| [forEachInstance](for-each-instance.md) | 遍历每一个 [Bot](./index.md) 实例`fun forEachInstance(block: (`[`Bot`](./index.md)`) -> `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [getInstance](get-instance.md) | 获取一个 [Bot](./index.md) 实例, 找不到则 [NoSuchElementException](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-no-such-element-exception/index.html)`fun getInstance(qq: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Bot`](./index.md) |

### Extension Functions

| [alsoLogin](../also-login.md) | 登录, 返回 [this](../also-login/-this-.md)`suspend fun <B : `[`Bot`](./index.md)`> B.alsoLogin(): B` |
| [buildMessageSource](../../net.mamoe.mirai.message.data/build-message-source.md) | 构建一个 [OfflineMessageSource](../../net.mamoe.mirai.message.data/-offline-message-source/index.md)`fun `[`Bot`](./index.md)`.buildMessageSource(block: `[`MessageSourceBuilder`](../../net.mamoe.mirai.message.data/-message-source-builder/index.md)`.() -> `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`): `[`MessageSource`](../../net.mamoe.mirai.message.data/-message-source/index.md) |
| [closeAndJoin](../close-and-join.md) | 关闭这个 [Bot](./index.md), 停止一切相关活动. 所有引用都会被释放.`suspend fun `[`Bot`](./index.md)`.closeAndJoin(cause: `[`Throwable`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html)`? = null): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [containsFriend](../contains-friend.md) | `fun `[`Bot`](./index.md)`.containsFriend(id: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html) |
| [containsGroup](../contains-group.md) | `fun `[`Bot`](./index.md)`.containsGroup(id: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html) |
| [getFriendOrNull](../get-friend-or-null.md) | `fun `[`Bot`](./index.md)`.getFriendOrNull(id: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Friend`](../../net.mamoe.mirai.contact/-friend/index.md)`?` |
| [getGroupOrNull](../get-group-or-null.md) | `fun `[`Bot`](./index.md)`.getGroupOrNull(id: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Group`](../../net.mamoe.mirai.contact/-group/index.md)`?` |
| [incoming](../../net.mamoe.mirai.event/incoming.md) | 打开一个来自指定 [Bot](./index.md) 的指定事件的接收通道`fun <E : `[`BotEvent`](../../net.mamoe.mirai.event.events/-bot-event/index.md)`> `[`Bot`](./index.md)`.incoming(coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, concurrencyKind: ConcurrencyKind = Listener.ConcurrencyKind.CONCURRENT, capacity: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = Channel.UNLIMITED): ReceiveChannel<E>` |
| [join](../join.md) | 挂起协程直到 [Bot](./index.md) 下线.`suspend fun `[`Bot`](./index.md)`.join(): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [recall](../recall.md) | 撤回这条消息.`suspend fun `[`Bot`](./index.md)`.recall(message: `[`MessageChain`](../../net.mamoe.mirai.message.data/-message-chain/index.md)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [recallIn](../recall-in.md) | 在一段时间后撤回这个消息源所指代的消息.`fun `[`Bot`](./index.md)`.recallIn(source: `[`MessageSource`](../../net.mamoe.mirai.message.data/-message-source/index.md)`, millis: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`, coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext): Job`<br>在一段时间后撤回这条消息.`fun `[`Bot`](./index.md)`.recallIn(message: `[`MessageChain`](../../net.mamoe.mirai.message.data/-message-chain/index.md)`, millis: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`, coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext): Job` |
| [subscribe](../../net.mamoe.mirai.event/subscribe.md) | 在 [Bot](./index.md) 的 [CoroutineScope](#) 下订阅所有 [E](../../net.mamoe.mirai.event/subscribe.md#E) 及其子类事件. 每当 [事件广播](../../net.mamoe.mirai.event/broadcast.md) 时, [handler](../../net.mamoe.mirai.event/subscribe.md#net.mamoe.mirai.event$subscribe(net.mamoe.mirai.Bot, kotlin.coroutines.CoroutineContext, net.mamoe.mirai.event.Listener.ConcurrencyKind, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.subscribe.E, , net.mamoe.mirai.event.ListeningStatus)))/handler) 都会被执行, 当 [handler](../../net.mamoe.mirai.event/subscribe.md#net.mamoe.mirai.event$subscribe(net.mamoe.mirai.Bot, kotlin.coroutines.CoroutineContext, net.mamoe.mirai.event.Listener.ConcurrencyKind, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.subscribe.E, , net.mamoe.mirai.event.ListeningStatus)))/handler) 返回 [ListeningStatus.STOPPED](../../net.mamoe.mirai.event/-listening-status/-s-t-o-p-p-e-d.md) 时停止监听`fun <E : `[`BotEvent`](../../net.mamoe.mirai.event.events/-bot-event/index.md)`> `[`Bot`](./index.md)`.subscribe(coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, concurrency: ConcurrencyKind = Listener.ConcurrencyKind.LOCKED, handler: suspend E.(E) -> `[`ListeningStatus`](../../net.mamoe.mirai.event/-listening-status/index.md)`): `[`Listener`](../../net.mamoe.mirai.event/-listener/index.md)`<E>``fun <E : `[`BotEvent`](../../net.mamoe.mirai.event.events/-bot-event/index.md)`> `[`Bot`](./index.md)`.subscribe(eventClass: `[`KClass`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html)`<E>, coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, concurrency: ConcurrencyKind = Listener.ConcurrencyKind.LOCKED, handler: suspend E.(E) -> `[`ListeningStatus`](../../net.mamoe.mirai.event/-listening-status/index.md)`): `[`Listener`](../../net.mamoe.mirai.event/-listener/index.md)`<E>` |
| [subscribeAlways](../../net.mamoe.mirai.event/subscribe-always.md) | 在 [Bot](./index.md) 的 [CoroutineScope](#) 下订阅所有 [E](../../net.mamoe.mirai.event/subscribe-always.md#E) 及其子类事件. 每当 [事件广播](../../net.mamoe.mirai.event/broadcast.md) 时, [listener](../../net.mamoe.mirai.event/subscribe-always.md#net.mamoe.mirai.event$subscribeAlways(net.mamoe.mirai.Bot, kotlin.coroutines.CoroutineContext, net.mamoe.mirai.event.Listener.ConcurrencyKind, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.subscribeAlways.E, , kotlin.Unit)))/listener) 都会被执行.`fun <E : `[`BotEvent`](../../net.mamoe.mirai.event.events/-bot-event/index.md)`> `[`Bot`](./index.md)`.subscribeAlways(coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, concurrency: ConcurrencyKind = Listener.ConcurrencyKind.CONCURRENT, listener: suspend E.(E) -> `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`): `[`Listener`](../../net.mamoe.mirai.event/-listener/index.md)`<E>``fun <E : `[`BotEvent`](../../net.mamoe.mirai.event.events/-bot-event/index.md)`> `[`Bot`](./index.md)`.subscribeAlways(eventClass: `[`KClass`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html)`<E>, coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, concurrency: ConcurrencyKind = Listener.ConcurrencyKind.CONCURRENT, listener: suspend E.(E) -> `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`): `[`Listener`](../../net.mamoe.mirai.event/-listener/index.md)`<E>` |
| [subscribeFriendMessages](../../net.mamoe.mirai.event/subscribe-friend-messages.md) | 订阅来自这个 [Bot](./index.md) 的所有好友消息事件.`fun <R> `[`Bot`](./index.md)`.subscribeFriendMessages(coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, concurrencyKind: ConcurrencyKind = Listener.ConcurrencyKind.CONCURRENT, listeners: `[`FriendMessageSubscribersBuilder`](../../net.mamoe.mirai.event/-friend-message-subscribers-builder.md)`.() -> R): R` |
| [subscribeGroupMessages](../../net.mamoe.mirai.event/subscribe-group-messages.md) | 订阅来自这个 [Bot](./index.md) 的所有群消息事件`fun <R> `[`Bot`](./index.md)`.subscribeGroupMessages(coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, concurrencyKind: ConcurrencyKind = Listener.ConcurrencyKind.CONCURRENT, listeners: `[`GroupMessageSubscribersBuilder`](../../net.mamoe.mirai.event/-group-message-subscribers-builder.md)`.() -> R): R` |
| [subscribeMessages](../../net.mamoe.mirai.event/subscribe-messages.md) | 订阅来自这个 [Bot](./index.md) 的所有联系人的消息事件. 联系人可以是任意群或任意好友或临时会话.`fun <R> `[`Bot`](./index.md)`.subscribeMessages(coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, concurrencyKind: ConcurrencyKind = Listener.ConcurrencyKind.CONCURRENT, listeners: `[`MessagePacketSubscribersBuilder`](../../net.mamoe.mirai.event/-message-packet-subscribers-builder.md)`.() -> R): R` |
| [subscribeOnce](../../net.mamoe.mirai.event/subscribe-once.md) | 在 [Bot](./index.md) 的 [CoroutineScope](#) 下订阅所有 [E](../../net.mamoe.mirai.event/subscribe-once.md#E) 及其子类事件. 仅在第一次 [事件广播](../../net.mamoe.mirai.event/broadcast.md) 时, [listener](../../net.mamoe.mirai.event/subscribe-once.md#net.mamoe.mirai.event$subscribeOnce(net.mamoe.mirai.Bot, kotlin.coroutines.CoroutineContext, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.subscribeOnce.E, , kotlin.Unit)))/listener) 会被执行.`fun <E : `[`BotEvent`](../../net.mamoe.mirai.event.events/-bot-event/index.md)`> `[`Bot`](./index.md)`.subscribeOnce(coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, listener: suspend E.(E) -> `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`): `[`Listener`](../../net.mamoe.mirai.event/-listener/index.md)`<E>``fun <E : `[`BotEvent`](../../net.mamoe.mirai.event.events/-bot-event/index.md)`> `[`Bot`](./index.md)`.subscribeOnce(eventClass: `[`KClass`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html)`<E>, coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, listener: suspend E.(E) -> `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`): `[`Listener`](../../net.mamoe.mirai.event/-listener/index.md)`<E>` |
| [subscribeTempMessages](../../net.mamoe.mirai.event/subscribe-temp-messages.md) | 订阅来自这个 [Bot](./index.md) 的所有临时会话消息事件.`fun <R> `[`Bot`](./index.md)`.subscribeTempMessages(coroutineContext: `[`CoroutineContext`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html)` = EmptyCoroutineContext, concurrencyKind: ConcurrencyKind = Listener.ConcurrencyKind.CONCURRENT, listeners: `[`TempMessageSubscribersBuilder`](../../net.mamoe.mirai.event/-temp-message-subscribers-builder.md)`.() -> R): R` |

### Inheritors

| [BotImpl](../-bot-impl/index.md) | `abstract class BotImpl<N : BotNetworkHandler> : `[`Bot`](./index.md)`, CoroutineScope` |

