[mirai-core](../../index.md) / [net.mamoe.mirai.event](../index.md) / [MessageSubscribersBuilder](./index.md)

# MessageSubscribersBuilder

`open class MessageSubscribersBuilder<M : `[`ContactMessage`](../../net.mamoe.mirai.message/-contact-message/index.md)`, out Ret, R : RR, RR>`

消息订阅构造器

### Parameters

`M` - 消息类型

`R` - 消息监听器内部的返回值

`Ret` - 每个 DSL 函数创建监听器之后的返回值

**See Also**

[subscribeFriendMessages](../kotlinx.coroutines.-coroutine-scope/subscribe-friend-messages.md)

### Types

| [ListeningFilter](-listening-filter/index.md) | 由 [contains](contains.md), [startsWith](starts-with.md) 等 DSL 创建出的监听条件, 使用 [invoke](-listening-filter/invoke.md) 将其注册给事件`open inner class ListeningFilter<M : `[`ContactMessage`](../../net.mamoe.mirai.message/-contact-message/index.md)`, out Ret, R : RR, RR>` |

### Constructors

| [&lt;init&gt;](-init-.md) | 消息订阅构造器`MessageSubscribersBuilder(stub: RR, subscriber: (M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)`, `[`MessageListener`](../-message-listener.md)`<M, RR>) -> Ret)` |

### Properties

| [subscriber](subscriber.md) | invoke 这个 lambda 时, 它将会把 [消息事件的处理器](../-message-listener.md) 注册给事件, 并返回注册完成返回的监听器.`val subscriber: (M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)`, `[`MessageListener`](../-message-listener.md)`<M, RR>) -> Ret` |

### Functions

| [-&gt;](--.md) | 启动这个监听器, 在满足条件时回复原消息`open infix fun ListeningFilter<M, Ret, R, RR>.->(toReply: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): Ret`<br>`open infix fun ListeningFilter<M, Ret, R, RR>.->(message: `[`Message`](../../net.mamoe.mirai.message.data/-message/index.md)`): Ret``infix fun `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`.~~->~~(block: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [always](always.md) | 无任何触发条件, 每次收到消息都执行 [onEvent](always.md#net.mamoe.mirai.event.MessageSubscribersBuilder$always(kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, net.mamoe.mirai.event.MessageSubscribersBuilder.RR)))/onEvent)`open fun always(onEvent: `[`MessageListener`](../-message-listener.md)`<M, RR>): Ret` |
| [at](at.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含 [AtAll](../../net.mamoe.mirai.message.data/-at-all/index.md)`fun at(target: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): ListeningFilter<M, Ret, R, RR>`<br>[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含目标为 [target](at.md#net.mamoe.mirai.event.MessageSubscribersBuilder$at(net.mamoe.mirai.contact.User)/target) 的 [At](../../net.mamoe.mirai.message.data/-at/index.md)`fun at(target: `[`User`](../../net.mamoe.mirai.contact/-user/index.md)`): ListeningFilter<M, Ret, R, RR>` |
| [atAll](at-all.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含 [AtAll](../../net.mamoe.mirai.message.data/-at-all/index.md)`fun atAll(): ListeningFilter<M, Ret, R, RR>` |
| [atBot](at-bot.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含目标为 [Bot](../../net.mamoe.mirai/-bot/index.md) 的 [At](../../net.mamoe.mirai.message.data/-at/index.md)`fun atBot(): ListeningFilter<M, Ret, R, RR>`<br>[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含目标为 [Bot](../../net.mamoe.mirai/-bot/index.md) 的 [At](../../net.mamoe.mirai.message.data/-at/index.md), 就执行 [onEvent](at-bot.md#net.mamoe.mirai.event.MessageSubscribersBuilder$atBot(kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, net.mamoe.mirai.event.MessageSubscribersBuilder.R)))/onEvent)`fun atBot(onEvent: suspend M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> R): Ret` |
| [case](case.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md) `==` [equals](case.md#net.mamoe.mirai.event.MessageSubscribersBuilder$case(kotlin.String, kotlin.Boolean, kotlin.Boolean)/equals)`fun case(equals: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, ignoreCase: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true): ListeningFilter<M, Ret, R, RR>`<br>`fun case(equals: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, ignoreCase: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true, onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [contains](contains.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含 [sub](contains.md#net.mamoe.mirai.event.MessageSubscribersBuilder$contains(kotlin.String, kotlin.Boolean)/sub)`fun contains(sub: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, ignoreCase: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false): ListeningFilter<M, Ret, R, RR>`<br>[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含 [sub](contains.md#net.mamoe.mirai.event.MessageSubscribersBuilder$contains(kotlin.String, kotlin.Boolean, kotlin.Boolean, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, net.mamoe.mirai.event.MessageSubscribersBuilder.R)))/sub) 中的任意一个元素`fun contains(sub: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, ignoreCase: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true, onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret``fun ~~contains~~(message: `[`Message`](../../net.mamoe.mirai.message.data/-message/index.md)`, onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [containsAll](contains-all.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含 [sub](contains-all.md#net.mamoe.mirai.event.MessageSubscribersBuilder$containsAll(kotlin.Array((kotlin.String)), kotlin.Boolean, kotlin.Boolean)/sub)`fun containsAll(vararg sub: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, ignoreCase: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true): ListeningFilter<M, Ret, R, RR>``fun ~~containsAll~~(vararg sub: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, ignoreCase: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true, onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [containsAny](contains-any.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含 [sub](contains-any.md#net.mamoe.mirai.event.MessageSubscribersBuilder$containsAny(kotlin.Array((kotlin.String)), kotlin.Boolean, kotlin.Boolean)/sub)`fun containsAny(vararg sub: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, ignoreCase: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true): ListeningFilter<M, Ret, R, RR>``fun ~~containsAny~~(vararg sub: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, ignoreCase: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true, onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [containsReply](contains-reply.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含 [this](contains-reply/-this-.md) 则回复 [reply](contains-reply.md#net.mamoe.mirai.event.MessageSubscribersBuilder$containsReply(kotlin.String, kotlin.String)/reply)`open infix fun `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`.containsReply(reply: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): Ret`<br>[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含 [this](contains-reply/-this-.md) 则执行 [replier](contains-reply.md#net.mamoe.mirai.event.MessageSubscribersBuilder$containsReply(kotlin.String, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, kotlin.Any)))/replier) 并将其返回值回复给发信对象.`open infix fun `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`.containsReply(replier: suspend M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`?): Ret` |
| [content](content.md) | 如果 [filter](content.md#net.mamoe.mirai.event.MessageSubscribersBuilder$content(kotlin.Function2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, kotlin.Boolean)))/filter) 返回 `true``fun content(filter: M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)`): ListeningFilter<M, Ret, R, RR>` |
| [endsWith](ends-with.md) | 如果消息的结尾是 [suffix](ends-with.md#net.mamoe.mirai.event.MessageSubscribersBuilder$endsWith(kotlin.String, kotlin.Boolean)/suffix)`fun endsWith(suffix: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true): ListeningFilter<M, Ret, R, RR>`<br>`fun endsWith(suffix: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, removeSuffix: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true, onEvent: suspend M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> R): Ret` |
| [endsWithReply](ends-with-reply.md) | 不考虑空格, [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)以 [this](ends-with-reply/-this-.md) 结尾则执行 [replier](ends-with-reply.md#net.mamoe.mirai.event.MessageSubscribersBuilder$endsWithReply(kotlin.String, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, kotlin.Any)))/replier) 并将其返回值回复给发信对象.`open infix fun `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`.endsWithReply(replier: suspend M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`?): Ret` |
| [finding](finding.md) | 如果[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md) [Regex.find](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/find.html) 不为空`infix fun `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`.finding(block: suspend M.(`[`MatchResult`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-match-result/index.html)`) -> R): Ret`<br>[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)可由正则表达式查找([Regex.find](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/find.html))`fun finding(regex: `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`): ListeningFilter<M, Ret, R, RR>`<br>[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)可由正则表达式查找([Regex.find](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/find.html)), 就执行 `onEvent``fun finding(regex: `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`, onEvent: suspend M.(`[`MatchResult`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-match-result/index.html)`) -> `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`): Ret` |
| [findingReply](finding-reply.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)可由正则表达式查找([Regex.find](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/find.html)), 则执行 [replier](finding-reply.md#net.mamoe.mirai.event.MessageSubscribersBuilder$findingReply(kotlin.text.Regex, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.text.MatchResult, kotlin.Any)))/replier) 并将其返回值回复给发信对象.`open infix fun `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`.findingReply(replier: suspend M.(`[`MatchResult`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-match-result/index.html)`) -> `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`?): Ret` |
| [has](has.md) | `fun <N : `[`Message`](../../net.mamoe.mirai.message.data/-message/index.md)`> has(onEvent: suspend M.(N) -> R): Ret`<br>[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)包含 [N](has.md#N) 类型的 [Message](../../net.mamoe.mirai.message.data/-message/index.md)`fun <N : `[`Message`](../../net.mamoe.mirai.message.data/-message/index.md)`> has(): ListeningFilter<M, Ret, R, RR>` |
| [invoke](invoke.md) | 如果[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)  `==` [equals](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/equals.html)`operator fun `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`.invoke(block: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [mapping](mapping.md) | 如果 [mapper](mapping.md#net.mamoe.mirai.event.MessageSubscribersBuilder$mapping(kotlin.Function2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, net.mamoe.mirai.event.MessageSubscribersBuilder.mapping.N)), kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, net.mamoe.mirai.event.MessageSubscribersBuilder.mapping.N, net.mamoe.mirai.event.MessageSubscribersBuilder.R)))/mapper) 返回值非空, 就执行 [onEvent](mapping.md#net.mamoe.mirai.event.MessageSubscribersBuilder$mapping(kotlin.Function2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, net.mamoe.mirai.event.MessageSubscribersBuilder.mapping.N)), kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, net.mamoe.mirai.event.MessageSubscribersBuilder.mapping.N, net.mamoe.mirai.event.MessageSubscribersBuilder.R)))/onEvent)`open fun <N : `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`> mapping(mapper: M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> N?, onEvent: suspend M.(N) -> R): Ret` |
| [matching](matching.md) | 如果[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)  [matches](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/matches.html)`infix fun `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`.matching(block: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret`<br>[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)可由正则表达式匹配([Regex.matchEntire](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/match-entire.html))`fun matching(regex: `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`): ListeningFilter<M, Ret, R, RR>`<br>[消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)可由正则表达式匹配([Regex.matchEntire](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/match-entire.html)), 就执行 `onEvent``fun matching(regex: `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`, onEvent: suspend M.(`[`MatchResult`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-match-result/index.html)`) -> `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`): Ret` |
| [matchingReply](matching-reply.md) | [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)可由正则表达式匹配([Regex.matchEntire](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/match-entire.html)), 则执行 [replier](matching-reply.md#net.mamoe.mirai.event.MessageSubscribersBuilder$matchingReply(kotlin.text.Regex, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.text.MatchResult, kotlin.Any)))/replier) 并将其返回值回复给发信对象.`open infix fun `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`.matchingReply(replier: suspend M.(`[`MatchResult`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-match-result/index.html)`) -> `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`?): Ret` |
| [newListeningFilter](new-listening-filter.md) | `open fun newListeningFilter(filter: M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)`): ListeningFilter<M, Ret, R, RR>` |
| [quoteReply](quote-reply.md) | 启动这个监听器, 在满足条件时引用回复原消息`open infix fun ListeningFilter<M, Ret, R, RR>.quoteReply(toReply: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): Ret`<br>`open infix fun ListeningFilter<M, Ret, R, RR>.quoteReply(toReply: `[`Message`](../../net.mamoe.mirai.message.data/-message/index.md)`): Ret`<br>启动这个监听器, 在满足条件时执行 [replier](quote-reply.md#net.mamoe.mirai.event.MessageSubscribersBuilder$quoteReply(net.mamoe.mirai.event.MessageSubscribersBuilder.ListeningFilter((net.mamoe.mirai.event.MessageSubscribersBuilder.M, net.mamoe.mirai.event.MessageSubscribersBuilder.Ret, net.mamoe.mirai.event.MessageSubscribersBuilder.R, net.mamoe.mirai.event.MessageSubscribersBuilder.RR)), kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, kotlin.Any)))/replier) 并引用回复原消息`open infix fun ListeningFilter<M, Ret, R, RR>.quoteReply(replier: suspend M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`?): Ret` |
| [reply](reply.md) | 启动这个监听器, 在满足条件时回复原消息`open infix fun ListeningFilter<M, Ret, R, RR>.reply(toReply: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): Ret`<br>`open infix fun ListeningFilter<M, Ret, R, RR>.reply(message: `[`Message`](../../net.mamoe.mirai.message.data/-message/index.md)`): Ret`<br>`open infix fun ListeningFilter<M, Ret, R, RR>.reply(replier: suspend M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`?): Ret`<br>当发送的消息内容为 [this](reply/-this-.md) 就回复 [reply](reply.md#net.mamoe.mirai.event.MessageSubscribersBuilder$reply(kotlin.String, kotlin.String)/reply)`open infix fun `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`.reply(reply: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): Ret`<br>`open infix fun `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`.reply(reply: `[`Message`](../../net.mamoe.mirai.message.data/-message/index.md)`): Ret`<br>当发送的消息内容为 [this](reply/-this-.md) 就执行并回复 [replier](reply.md#net.mamoe.mirai.event.MessageSubscribersBuilder$reply(kotlin.String, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, kotlin.Any)))/replier) 的返回值`open infix fun `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`.reply(replier: suspend M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`?): Ret` |
| [sentBy](sent-by.md) | 如果是这个人发的消息. 消息目前只会是群消息`fun sentBy(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): ListeningFilter<M, Ret, R, RR>`<br>如果是这个人发的消息. 消息可以是好友消息也可以是群消息`fun sentBy(qq: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): ListeningFilter<M, Ret, R, RR>`<br>`fun sentBy(friend: `[`User`](../../net.mamoe.mirai.contact/-user/index.md)`): ListeningFilter<M, Ret, R, RR>`<br>`fun sentBy(qq: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`, onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret``fun ~~sentBy~~(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [sentByAdministrator](sent-by-administrator.md) | 如果是管理员发的消息`fun sentByAdministrator(): ListeningFilter<M, Ret, R, RR>``fun ~~sentByAdministrator~~(onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [sentByFriend](sent-by-friend.md) | 如果是好友发来的消息`fun sentByFriend(onEvent: `[`MessageListener`](../-message-listener.md)`<`[`FriendMessage`](../../net.mamoe.mirai.message/-friend-message/index.md)`, R>): Ret`<br>`fun sentByFriend(): ListeningFilter<M, Ret, R, RR>` |
| [sentByOperator](sent-by-operator.md) | 如果是管理员或群主发的消息`fun sentByOperator(): ListeningFilter<M, Ret, R, RR>``fun ~~sentByOperator~~(onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [sentByOwner](sent-by-owner.md) | 如果是群主发的消息`fun sentByOwner(): ListeningFilter<M, Ret, R, RR>``fun ~~sentByOwner~~(onEvent: `[`MessageListener`](../-message-listener.md)`<M, R>): Ret` |
| [sentByTemp](sent-by-temp.md) | 如果是好友发来的消息`fun sentByTemp(): ListeningFilter<M, Ret, R, RR>` |
| [sentFrom](sent-from.md) | 如果是来自这个群的消息`fun sentFrom(groupId: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): ListeningFilter<M, Ret, R, RR>`<br>`fun sentFrom(group: `[`Group`](../../net.mamoe.mirai.contact/-group/index.md)`): ListeningFilter<M, Ret, R, RR>``fun ~~sentFrom~~(groupId: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`, onEvent: `[`MessageListener`](../-message-listener.md)`<`[`GroupMessage`](../../net.mamoe.mirai.message/-group-message/index.md)`, R>): Ret` |
| [startsWith](starts-with.md) | 如果消息的前缀是 [prefix](starts-with.md#net.mamoe.mirai.event.MessageSubscribersBuilder$startsWith(kotlin.String, kotlin.Boolean)/prefix)`fun startsWith(prefix: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true): ListeningFilter<M, Ret, R, RR>`<br>`fun startsWith(prefix: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, removePrefix: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true, trim: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true, onEvent: suspend M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> R): Ret` |
| [startsWithReply](starts-with-reply.md) | 不考虑空格, [消息内容](../../net.mamoe.mirai.message.data/-message/content-to-string.md)以 [this](starts-with-reply/-this-.md) 开始则执行 [replier](starts-with-reply.md#net.mamoe.mirai.event.MessageSubscribersBuilder$startsWithReply(kotlin.String, kotlin.coroutines.SuspendFunction2((net.mamoe.mirai.event.MessageSubscribersBuilder.M, kotlin.String, kotlin.Any)))/replier) 并将其返回值回复给发信对象.`open infix fun `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`.~~startsWithReply~~(replier: suspend M.(`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`) -> `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`?): Ret` |

### Inheritors

| [MessageSelectBuilderUnit](../-message-select-builder-unit/index.md) | [selectMessagesUnit](../select-messages-unit.md) 或 [selectMessages](../select-messages.md) 时的 DSL 构建器.`abstract class MessageSelectBuilderUnit<M : `[`ContactMessage`](../../net.mamoe.mirai.message/-contact-message/index.md)`, R> : `[`MessageSubscribersBuilder`](./index.md)`<M, `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`, R, `[`Any`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html)`?>` |

